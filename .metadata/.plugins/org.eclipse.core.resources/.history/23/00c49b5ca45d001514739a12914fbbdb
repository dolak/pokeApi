var getData = function() {
	console.log("getData");
	for (var i = 0; i < 10; i++) {
		var url = "http://pokeapi.co/api/v1/pokemon/" + i + "/";
		console.log(url);
	
	var xhr = Ti.Network.createHTTPClient({
		onload : function(x) {
			console.log(x);
			console.log(this.responseText);
			var json = JSON.parse(this.responseText);
			var pokemonArr = [];

			if (json.types.length > 1) {
				var pokemonDex = {
					name : json.name,
					type1 : json.types[0].name,
					type2 : json.types[1].name

				};
			} else {
				var pokemonDex = {
					name : json.name,
					type1 : json.types[0].name
				};
			}

			var save = require("database");
			save.dataSave(pokemonDex);

		},
		onerror : function(x) {
			console.log(x);
			alert("error pulling pokemon data, the error is: " + x.error);
		},
		timeout : 3000
		};
	});

	xhr.open("GET", url);
	xhr.send();

};

exports.getData = getData;
