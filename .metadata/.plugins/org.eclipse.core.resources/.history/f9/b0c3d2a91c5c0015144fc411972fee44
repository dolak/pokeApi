var getData = function(latitude, longitude){
	console.log("getData");
	console.log(latitude);
	
	var url = "http://pokeapi.co/api/v1/pokedex/";
	console.log(url);
	var xhr = Ti.Network.createHTTPClient({
		onload : function(x){
			console.log(x);
			console.log(this.responseText);
			
			var json = JSON.parse(this.responseText);
			
			var weatherObj = {
				state    : json.current_observation.display_location.state,
				coords   : {
					lat  : latitude,
					lng  : longitude
				}
			};

			// point to the database
			// var ui = require("ui");
			// ui.buildUi(weatherObj);
			
			var save = require("database");
			save.dataSave(weatherObj);
			
		},
		onerror : function(x){
			console.log(x);
			alert("error pulling weather data, the error is: " + x.error);
		},
		timeout : 3000
	});
	
	xhr.open("GET", url);
	xhr.send();

};

exports.getData = getData;
